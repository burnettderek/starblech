                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler 
                                      3 ; Version 4.3.2 #14228 (MINGW64)
                                      4 ;--------------------------------------------------------
                                      5 	.module sprite
                                      6 	.optsdcc -msm83
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _getVisible
                                     12 	.globl _setVisible
                                     13 	.globl _set_sprite_palette
                                     14 	.globl _set_sprite_data
                                     15 	.globl _sprite_init
                                     16 	.globl _sprites_reset
                                     17 	.globl _isOnScreen
                                     18 	.globl _setFrame
                                     19 	.globl _move
                                     20 	.globl _create_palette
                                     21 	.globl _update_palette
                                     22 	.globl _setPalette
                                     23 	.globl _show
                                     24 	.globl _hide
                                     25 ;--------------------------------------------------------
                                     26 ; special function registers
                                     27 ;--------------------------------------------------------
                                     28 ;--------------------------------------------------------
                                     29 ; ram data
                                     30 ;--------------------------------------------------------
                                     31 	.area _DATA
      000000                         32 _update_palette_palette_65536_201:
      000000                         33 	.ds 8
                                     34 ;--------------------------------------------------------
                                     35 ; ram data
                                     36 ;--------------------------------------------------------
                                     37 	.area _INITIALIZED
      000000                         38 _spriteIndex:
      000000                         39 	.ds 2
      000002                         40 _tileIndex:
      000002                         41 	.ds 2
      000004                         42 _palette_index:
      000004                         43 	.ds 1
                                     44 ;--------------------------------------------------------
                                     45 ; absolute external ram data
                                     46 ;--------------------------------------------------------
                                     47 	.area _DABS (ABS)
                                     48 ;--------------------------------------------------------
                                     49 ; global & static initialisations
                                     50 ;--------------------------------------------------------
                                     51 	.area _HOME
                                     52 	.area _GSINIT
                                     53 	.area _GSFINAL
                                     54 	.area _GSINIT
                                     55 ;--------------------------------------------------------
                                     56 ; Home
                                     57 ;--------------------------------------------------------
                                     58 	.area _HOME
                                     59 	.area _HOME
                                     60 ;--------------------------------------------------------
                                     61 ; code
                                     62 ;--------------------------------------------------------
                                     63 	.area _CODE
                                     64 ;..\sprite.c:7: void sprite_init(struct Sprite* this, byte* data, RENDER_MODE renderMode, int tileWidth, int tileHeight, int frames) {
                                     65 ;	---------------------------------
                                     66 ; Function sprite_init
                                     67 ; ---------------------------------
      000000                         68 _sprite_init::
      000000 E8 FC            [16]   69 	add	sp, #-4
      000002 F8 02            [12]   70 	ldhl	sp,	#2
      000004 79               [ 4]   71 	ld	a, c
      000005 22               [ 8]   72 	ld	(hl+), a
      000006 70               [ 8]   73 	ld	(hl), b
                                     74 ;..\sprite.c:8: int totalTiles = tileWidth * tileHeight;
      000007 D5               [16]   75 	push	de
      000008 F8 0B            [12]   76 	ldhl	sp,	#11
      00000A 2A               [ 8]   77 	ld	a, (hl+)
      00000B 4F               [ 4]   78 	ld	c, a
      00000C 46               [ 8]   79 	ld	b, (hl)
      00000D F8 09            [12]   80 	ldhl	sp,	#9
      00000F 2A               [ 8]   81 	ld	a, (hl+)
      000010 5F               [ 4]   82 	ld	e, a
      000011 56               [ 8]   83 	ld	d, (hl)
                                     84 ;..\sprite.c:9: this->spriteIndex = spriteIndex;
      000012 CDr00r00         [24]   85 	call	__mulint
      000015 F8 02            [12]   86 	ldhl	sp,	#2
      000017 79               [ 4]   87 	ld	a, c
      000018 22               [ 8]   88 	ld	(hl+), a
      000019 70               [ 8]   89 	ld	(hl), b
      00001A D1               [12]   90 	pop	de
      00001B 21r00r00         [12]   91 	ld	hl, #_spriteIndex
      00001E 2A               [ 8]   92 	ld	a, (hl+)
      00001F 12               [ 8]   93 	ld	(de), a
      000020 13               [ 8]   94 	inc	de
      000021 7E               [ 8]   95 	ld	a, (hl)
      000022 12               [ 8]   96 	ld	(de), a
      000023 1B               [ 8]   97 	dec	de
                                     98 ;..\sprite.c:10: this->tileIndex = tileIndex;
      000024 4B               [ 4]   99 	ld	c, e
      000025 42               [ 4]  100 	ld	b, d
      000026 03               [ 8]  101 	inc	bc
      000027 03               [ 8]  102 	inc	bc
      000028 21r02r00         [12]  103 	ld	hl, #_tileIndex
      00002B 2A               [ 8]  104 	ld	a, (hl+)
      00002C 02               [ 8]  105 	ld	(bc), a
      00002D 03               [ 8]  106 	inc	bc
      00002E 7E               [ 8]  107 	ld	a, (hl)
      00002F 02               [ 8]  108 	ld	(bc), a
                                    109 ;..\sprite.c:11: this->tileDimension.width = tileWidth;
      000030 21 09 00         [12]  110 	ld	hl, #0x0009
      000033 19               [ 8]  111 	add	hl, de
      000034 4D               [ 4]  112 	ld	c, l
      000035 44               [ 4]  113 	ld	b, h
      000036 D5               [16]  114 	push	de
      000037 59               [ 4]  115 	ld	e, c
      000038 50               [ 4]  116 	ld	d, b
      000039 F8 09            [12]  117 	ldhl	sp,	#9
      00003B 2A               [ 8]  118 	ld	a, (hl+)
      00003C 12               [ 8]  119 	ld	(de), a
      00003D 13               [ 8]  120 	inc	de
                                    121 ;..\sprite.c:12: this->tileDimension.height = tileHeight;
      00003E 2A               [ 8]  122 	ld	a, (hl+)
      00003F 12               [ 8]  123 	ld	(de), a
      000040 D1               [12]  124 	pop	de
      000041 03               [ 8]  125 	inc	bc
      000042 03               [ 8]  126 	inc	bc
      000043 2A               [ 8]  127 	ld	a, (hl+)
      000044 02               [ 8]  128 	ld	(bc), a
      000045 03               [ 8]  129 	inc	bc
      000046 7E               [ 8]  130 	ld	a, (hl)
      000047 02               [ 8]  131 	ld	(bc), a
                                    132 ;..\sprite.c:13: this->renderMode = renderMode;
      000048 21 04 00         [12]  133 	ld	hl, #0x0004
      00004B 19               [ 8]  134 	add	hl, de
      00004C 4D               [ 4]  135 	ld	c, l
      00004D 44               [ 4]  136 	ld	b, h
      00004E F8 06            [12]  137 	ldhl	sp,	#6
      000050 7E               [ 8]  138 	ld	a, (hl)
      000051 02               [ 8]  139 	ld	(bc), a
                                    140 ;..\sprite.c:14: this->frames = frames;
      000052 21 0D 00         [12]  141 	ld	hl, #0x000d
      000055 19               [ 8]  142 	add	hl, de
      000056 4D               [ 4]  143 	ld	c, l
      000057 44               [ 4]  144 	ld	b, h
      000058 F8 0B            [12]  145 	ldhl	sp,	#11
      00005A 2A               [ 8]  146 	ld	a, (hl+)
      00005B 02               [ 8]  147 	ld	(bc), a
      00005C 03               [ 8]  148 	inc	bc
      00005D 7E               [ 8]  149 	ld	a, (hl)
      00005E 02               [ 8]  150 	ld	(bc), a
                                    151 ;..\sprite.c:15: this->data = data;
      00005F 21 13 00         [12]  152 	ld	hl, #0x0013
      000062 19               [ 8]  153 	add	hl, de
      000063 4D               [ 4]  154 	ld	c, l
      000064 44               [ 4]  155 	ld	b, h
      000065 F8 02            [12]  156 	ldhl	sp,	#2
      000067 2A               [ 8]  157 	ld	a, (hl+)
      000068 02               [ 8]  158 	ld	(bc), a
      000069 03               [ 8]  159 	inc	bc
      00006A 7E               [ 8]  160 	ld	a, (hl)
      00006B 02               [ 8]  161 	ld	(bc), a
                                    162 ;..\sprite.c:16: spriteIndex += totalTiles;
      00006C D5               [16]  163 	push	de
      00006D 21r00r00         [12]  164 	ld	hl, #_spriteIndex
      000070 2A               [ 8]  165 	ld	a, (hl+)
      000071 5F               [ 4]  166 	ld	e, a
      000072 56               [ 8]  167 	ld	d, (hl)
      000073 F8 02            [12]  168 	ldhl	sp,	#2
      000075 2A               [ 8]  169 	ld	a,	(hl+)
      000076 66               [ 8]  170 	ld	h, (hl)
      000077 6F               [ 4]  171 	ld	l, a
      000078 19               [ 8]  172 	add	hl, de
      000079 D1               [12]  173 	pop	de
      00007A 7D               [ 4]  174 	ld	a, l
      00007B EAr00r00         [16]  175 	ld	(_spriteIndex), a
      00007E 7C               [ 4]  176 	ld	a, h
      00007F EAr01r00         [16]  177 	ld	(_spriteIndex + 1), a
                                    178 ;..\sprite.c:17: tileIndex += totalTiles;
      000082 D5               [16]  179 	push	de
      000083 21r02r00         [12]  180 	ld	hl, #_tileIndex
      000086 2A               [ 8]  181 	ld	a, (hl+)
      000087 5F               [ 4]  182 	ld	e, a
      000088 56               [ 8]  183 	ld	d, (hl)
      000089 F8 02            [12]  184 	ldhl	sp,	#2
      00008B 2A               [ 8]  185 	ld	a,	(hl+)
      00008C 66               [ 8]  186 	ld	h, (hl)
      00008D 6F               [ 4]  187 	ld	l, a
      00008E 19               [ 8]  188 	add	hl, de
      00008F D1               [12]  189 	pop	de
      000090 7D               [ 4]  190 	ld	a, l
      000091 EAr02r00         [16]  191 	ld	(_tileIndex), a
      000094 7C               [ 4]  192 	ld	a, h
      000095 EAr03r00         [16]  193 	ld	(_tileIndex + 1), a
                                    194 ;..\sprite.c:18: this->visible = true;
      000098 21 11 00         [12]  195 	ld	hl, #0x0011
      00009B 19               [ 8]  196 	add	hl, de
      00009C 36 01            [12]  197 	ld	(hl), #0x01
                                    198 ;..\sprite.c:19: this->hidden = false;
      00009E 21 12 00         [12]  199 	ld	hl, #0x0012
      0000A1 19               [ 8]  200 	add	hl, de
      0000A2 36 00            [12]  201 	ld	(hl), #0x00
                                    202 ;..\sprite.c:20: }
      0000A4 E8 04            [16]  203 	add	sp, #4
      0000A6 E1               [12]  204 	pop	hl
      0000A7 E8 07            [16]  205 	add	sp, #7
      0000A9 E9               [ 4]  206 	jp	(hl)
                                    207 ;..\sprite.c:22: void sprites_reset(void) {
                                    208 ;	---------------------------------
                                    209 ; Function sprites_reset
                                    210 ; ---------------------------------
      0000AA                        211 _sprites_reset::
                                    212 ;..\sprite.c:23: spriteIndex = 0;
      0000AA AF               [ 4]  213 	xor	a, a
      0000AB 21r00r00         [12]  214 	ld	hl, #_spriteIndex
      0000AE 22               [ 8]  215 	ld	(hl+), a
      0000AF 77               [ 8]  216 	ld	(hl), a
                                    217 ;..\sprite.c:24: tileIndex = 1;
      0000B0 21r02r00         [12]  218 	ld	hl, #_tileIndex
      0000B3 3E 01            [ 8]  219 	ld	a, #0x01
      0000B5 22               [ 8]  220 	ld	(hl+), a
      0000B6 AF               [ 4]  221 	xor	a, a
      0000B7 77               [ 8]  222 	ld	(hl), a
                                    223 ;..\sprite.c:25: palette_index = 0;
      0000B8 21r04r00         [12]  224 	ld	hl, #_palette_index
      0000BB 36 00            [12]  225 	ld	(hl), #0x00
                                    226 ;..\sprite.c:26: for(int i = 0; i < MAX_HARDWARE_SPRITES; i++)
      0000BD 0E 00            [ 8]  227 	ld	c, #0x00
      0000BF                        228 00104$:
      0000BF 79               [ 4]  229 	ld	a, c
      0000C0 D6 28            [ 8]  230 	sub	a, #0x28
      0000C2 D0               [20]  231 	ret	NC
                                    232 ;..\sprite.c:27: set_sprite_tile(i, 0);
      0000C3 41               [ 4]  233 	ld	b, c
                                    234 ;c:\source\gameboy\gbdk-win64\gbdk\include\gb\gb.h:1804: shadow_OAM[nb].tile=tile;
      0000C4 26 00            [ 8]  235 	ld	h, #0x00
                                    236 ;	spillPairReg hl
                                    237 ;	spillPairReg hl
      0000C6 68               [ 4]  238 	ld	l, b
      0000C7 29               [ 8]  239 	add	hl, hl
      0000C8 29               [ 8]  240 	add	hl, hl
      0000C9 11r00r00         [12]  241 	ld	de, #_shadow_OAM
      0000CC 19               [ 8]  242 	add	hl, de
      0000CD 23               [ 8]  243 	inc	hl
      0000CE 23               [ 8]  244 	inc	hl
      0000CF 36 00            [12]  245 	ld	(hl), #0x00
                                    246 ;..\sprite.c:26: for(int i = 0; i < MAX_HARDWARE_SPRITES; i++)
      0000D1 0C               [ 4]  247 	inc	c
                                    248 ;..\sprite.c:28: }
      0000D2 18 EB            [12]  249 	jr	00104$
                                    250 ;..\sprite.c:31: bool isOnScreen(struct Sprite* this, int screen_x, int screen_y) {
                                    251 ;	---------------------------------
                                    252 ; Function isOnScreen
                                    253 ; ---------------------------------
      0000D4                        254 _isOnScreen::
      0000D4 E8 FA            [16]  255 	add	sp, #-6
      0000D6 F8 04            [12]  256 	ldhl	sp,	#4
      0000D8 79               [ 4]  257 	ld	a, c
      0000D9 22               [ 8]  258 	ld	(hl+), a
      0000DA 70               [ 8]  259 	ld	(hl), b
                                    260 ;..\sprite.c:32: if(screen_x < -(this->tileDimension.width * 8)  || screen_x > SCREENWIDTH + (this->tileDimension.width * 8))return false;
      0000DB 21 09 00         [12]  261 	ld	hl, #0x0009
      0000DE 19               [ 8]  262 	add	hl, de
      0000DF 33               [ 8]  263 	inc	sp
      0000E0 33               [ 8]  264 	inc	sp
      0000E1 5D               [ 4]  265 	ld	e, l
      0000E2 54               [ 4]  266 	ld	d, h
      0000E3 D5               [16]  267 	push	de
      0000E4 1A               [ 8]  268 	ld	a, (de)
      0000E5 6F               [ 4]  269 	ld	l, a
                                    270 ;	spillPairReg hl
                                    271 ;	spillPairReg hl
      0000E6 13               [ 8]  272 	inc	de
      0000E7 1A               [ 8]  273 	ld	a, (de)
      0000E8 67               [ 4]  274 	ld	h, a
                                    275 ;	spillPairReg hl
                                    276 ;	spillPairReg hl
      0000E9 29               [ 8]  277 	add	hl, hl
      0000EA 29               [ 8]  278 	add	hl, hl
      0000EB 29               [ 8]  279 	add	hl, hl
      0000EC 4D               [ 4]  280 	ld	c, l
      0000ED 44               [ 4]  281 	ld	b, h
      0000EE 11 00 00         [12]  282 	ld	de, #0x0000
      0000F1 7B               [ 4]  283 	ld	a, e
      0000F2 91               [ 4]  284 	sub	a, c
      0000F3 5F               [ 4]  285 	ld	e, a
      0000F4 7A               [ 4]  286 	ld	a, d
      0000F5 98               [ 4]  287 	sbc	a, b
      0000F6 F8 03            [12]  288 	ldhl	sp,	#3
      0000F8 32               [ 8]  289 	ld	(hl-), a
      0000F9 73               [ 8]  290 	ld	(hl), e
      0000FA F8 04            [12]  291 	ldhl	sp,	#4
      0000FC 5D               [ 4]  292 	ld	e, l
      0000FD 54               [ 4]  293 	ld	d, h
      0000FE F8 02            [12]  294 	ldhl	sp,	#2
      000100 1A               [ 8]  295 	ld	a, (de)
      000101 13               [ 8]  296 	inc	de
      000102 96               [ 8]  297 	sub	a, (hl)
      000103 23               [ 8]  298 	inc	hl
      000104 1A               [ 8]  299 	ld	a, (de)
      000105 9E               [ 8]  300 	sbc	a, (hl)
      000106 1A               [ 8]  301 	ld	a, (de)
      000107 57               [ 4]  302 	ld	d, a
      000108 5E               [ 8]  303 	ld	e, (hl)
      000109 CB 7B            [ 8]  304 	bit	7, e
      00010B 28 07            [12]  305 	jr	Z, 00123$
      00010D CB 7A            [ 8]  306 	bit	7, d
      00010F 20 08            [12]  307 	jr	NZ, 00124$
      000111 BF               [ 4]  308 	cp	a, a
      000112 18 05            [12]  309 	jr	00124$
      000114                        310 00123$:
      000114 CB 7A            [ 8]  311 	bit	7, d
      000116 28 01            [12]  312 	jr	Z, 00124$
      000118 37               [ 4]  313 	scf
      000119                        314 00124$:
      000119 38 22            [12]  315 	jr	C, 00101$
      00011B 21 A0 00         [12]  316 	ld	hl, #0x00a0
      00011E 09               [ 8]  317 	add	hl, bc
      00011F 4D               [ 4]  318 	ld	c, l
      000120 44               [ 4]  319 	ld	b, h
      000121 F8 04            [12]  320 	ldhl	sp,	#4
      000123 79               [ 4]  321 	ld	a, c
      000124 96               [ 8]  322 	sub	a, (hl)
      000125 23               [ 8]  323 	inc	hl
      000126 78               [ 4]  324 	ld	a, b
      000127 9E               [ 8]  325 	sbc	a, (hl)
      000128 78               [ 4]  326 	ld	a, b
      000129 57               [ 4]  327 	ld	d, a
      00012A 5E               [ 8]  328 	ld	e, (hl)
      00012B CB 7B            [ 8]  329 	bit	7, e
      00012D 28 07            [12]  330 	jr	Z, 00125$
      00012F CB 7A            [ 8]  331 	bit	7, d
      000131 20 08            [12]  332 	jr	NZ, 00126$
      000133 BF               [ 4]  333 	cp	a, a
      000134 18 05            [12]  334 	jr	00126$
      000136                        335 00125$:
      000136 CB 7A            [ 8]  336 	bit	7, d
      000138 28 01            [12]  337 	jr	Z, 00126$
      00013A 37               [ 4]  338 	scf
      00013B                        339 00126$:
      00013B 30 03            [12]  340 	jr	NC, 00102$
      00013D                        341 00101$:
      00013D AF               [ 4]  342 	xor	a, a
      00013E 18 60            [12]  343 	jr	00107$
      000140                        344 00102$:
                                    345 ;..\sprite.c:33: if(screen_y < -(this->tileDimension.height * 8) || screen_y > SCREENHEIGHT + (this->tileDimension.height * 8))return false;
      000140 E1               [12]  346 	pop	hl
      000141 E5               [16]  347 	push	hl
      000142 23               [ 8]  348 	inc	hl
      000143 23               [ 8]  349 	inc	hl
      000144 2A               [ 8]  350 	ld	a,	(hl+)
      000145 66               [ 8]  351 	ld	h, (hl)
                                    352 ;	spillPairReg hl
      000146 6F               [ 4]  353 	ld	l, a
                                    354 ;	spillPairReg hl
                                    355 ;	spillPairReg hl
      000147 29               [ 8]  356 	add	hl, hl
      000148 29               [ 8]  357 	add	hl, hl
      000149 29               [ 8]  358 	add	hl, hl
      00014A 4D               [ 4]  359 	ld	c, l
      00014B 44               [ 4]  360 	ld	b, h
      00014C 11 00 00         [12]  361 	ld	de, #0x0000
      00014F 7B               [ 4]  362 	ld	a, e
      000150 91               [ 4]  363 	sub	a, c
      000151 5F               [ 4]  364 	ld	e, a
      000152 7A               [ 4]  365 	ld	a, d
      000153 98               [ 4]  366 	sbc	a, b
      000154 F8 03            [12]  367 	ldhl	sp,	#3
      000156 32               [ 8]  368 	ld	(hl-), a
      000157 73               [ 8]  369 	ld	(hl), e
      000158 F8 08            [12]  370 	ldhl	sp,	#8
      00015A 5D               [ 4]  371 	ld	e, l
      00015B 54               [ 4]  372 	ld	d, h
      00015C F8 02            [12]  373 	ldhl	sp,	#2
      00015E 1A               [ 8]  374 	ld	a, (de)
      00015F 13               [ 8]  375 	inc	de
      000160 96               [ 8]  376 	sub	a, (hl)
      000161 23               [ 8]  377 	inc	hl
      000162 1A               [ 8]  378 	ld	a, (de)
      000163 9E               [ 8]  379 	sbc	a, (hl)
      000164 1A               [ 8]  380 	ld	a, (de)
      000165 57               [ 4]  381 	ld	d, a
      000166 5E               [ 8]  382 	ld	e, (hl)
      000167 CB 7B            [ 8]  383 	bit	7, e
      000169 28 07            [12]  384 	jr	Z, 00127$
      00016B CB 7A            [ 8]  385 	bit	7, d
      00016D 20 08            [12]  386 	jr	NZ, 00128$
      00016F BF               [ 4]  387 	cp	a, a
      000170 18 05            [12]  388 	jr	00128$
      000172                        389 00127$:
      000172 CB 7A            [ 8]  390 	bit	7, d
      000174 28 01            [12]  391 	jr	Z, 00128$
      000176 37               [ 4]  392 	scf
      000177                        393 00128$:
      000177 38 22            [12]  394 	jr	C, 00104$
      000179 21 90 00         [12]  395 	ld	hl, #0x0090
      00017C 09               [ 8]  396 	add	hl, bc
      00017D 4D               [ 4]  397 	ld	c, l
      00017E 44               [ 4]  398 	ld	b, h
      00017F F8 08            [12]  399 	ldhl	sp,	#8
      000181 79               [ 4]  400 	ld	a, c
      000182 96               [ 8]  401 	sub	a, (hl)
      000183 23               [ 8]  402 	inc	hl
      000184 78               [ 4]  403 	ld	a, b
      000185 9E               [ 8]  404 	sbc	a, (hl)
      000186 78               [ 4]  405 	ld	a, b
      000187 57               [ 4]  406 	ld	d, a
      000188 5E               [ 8]  407 	ld	e, (hl)
      000189 CB 7B            [ 8]  408 	bit	7, e
      00018B 28 07            [12]  409 	jr	Z, 00129$
      00018D CB 7A            [ 8]  410 	bit	7, d
      00018F 20 08            [12]  411 	jr	NZ, 00130$
      000191 BF               [ 4]  412 	cp	a, a
      000192 18 05            [12]  413 	jr	00130$
      000194                        414 00129$:
      000194 CB 7A            [ 8]  415 	bit	7, d
      000196 28 01            [12]  416 	jr	Z, 00130$
      000198 37               [ 4]  417 	scf
      000199                        418 00130$:
      000199 30 03            [12]  419 	jr	NC, 00105$
      00019B                        420 00104$:
      00019B AF               [ 4]  421 	xor	a, a
      00019C 18 02            [12]  422 	jr	00107$
      00019E                        423 00105$:
                                    424 ;..\sprite.c:34: return true;
      00019E 3E 01            [ 8]  425 	ld	a, #0x01
      0001A0                        426 00107$:
                                    427 ;..\sprite.c:35: }
      0001A0 E8 06            [16]  428 	add	sp, #6
      0001A2 E1               [12]  429 	pop	hl
      0001A3 C1               [12]  430 	pop	bc
      0001A4 E9               [ 4]  431 	jp	(hl)
                                    432 ;..\sprite.c:37: void setFrame(struct Sprite* this, int frame) {
                                    433 ;	---------------------------------
                                    434 ; Function setFrame
                                    435 ; ---------------------------------
      0001A5                        436 _setFrame::
      0001A5 E8 F6            [16]  437 	add	sp, #-10
      0001A7 F8 08            [12]  438 	ldhl	sp,	#8
      0001A9 7B               [ 4]  439 	ld	a, e
      0001AA 22               [ 8]  440 	ld	(hl+), a
      0001AB 72               [ 8]  441 	ld	(hl), d
      0001AC F8 06            [12]  442 	ldhl	sp,	#6
      0001AE 79               [ 4]  443 	ld	a, c
      0001AF 22               [ 8]  444 	ld	(hl+), a
                                    445 ;..\sprite.c:38: this->frame = frame;
      0001B0 78               [ 4]  446 	ld	a, b
      0001B1 22               [ 8]  447 	ld	(hl+), a
      0001B2 2A               [ 8]  448 	ld	a, (hl+)
      0001B3 5F               [ 4]  449 	ld	e, a
      0001B4 56               [ 8]  450 	ld	d, (hl)
      0001B5 21 0F 00         [12]  451 	ld	hl, #0x000f
      0001B8 19               [ 8]  452 	add	hl, de
      0001B9 4D               [ 4]  453 	ld	c, l
      0001BA 44               [ 4]  454 	ld	b, h
      0001BB F8 06            [12]  455 	ldhl	sp,	#6
      0001BD 2A               [ 8]  456 	ld	a, (hl+)
      0001BE 02               [ 8]  457 	ld	(bc), a
      0001BF 03               [ 8]  458 	inc	bc
                                    459 ;..\sprite.c:39: if(this->hidden || !this->visible)return;
      0001C0 2A               [ 8]  460 	ld	a, (hl+)
      0001C1 02               [ 8]  461 	ld	(bc), a
      0001C2 2A               [ 8]  462 	ld	a, (hl+)
      0001C3 5F               [ 4]  463 	ld	e, a
      0001C4 56               [ 8]  464 	ld	d, (hl)
      0001C5 21 12 00         [12]  465 	ld	hl, #0x0012
      0001C8 19               [ 8]  466 	add	hl, de
      0001C9 4D               [ 4]  467 	ld	c, l
      0001CA 44               [ 4]  468 	ld	b, h
      0001CB 0A               [ 8]  469 	ld	a, (bc)
      0001CC F8 05            [12]  470 	ldhl	sp,	#5
      0001CE 77               [ 8]  471 	ld	(hl), a
      0001CF 7E               [ 8]  472 	ld	a, (hl)
      0001D0 B7               [ 4]  473 	or	a, a
      0001D1 C2rC0r02         [16]  474 	jp	NZ,00109$
      0001D4 F8 08            [12]  475 	ldhl	sp,#8
      0001D6 2A               [ 8]  476 	ld	a, (hl+)
      0001D7 5F               [ 4]  477 	ld	e, a
      0001D8 56               [ 8]  478 	ld	d, (hl)
      0001D9 21 11 00         [12]  479 	ld	hl, #0x0011
      0001DC 19               [ 8]  480 	add	hl, de
      0001DD 4D               [ 4]  481 	ld	c, l
      0001DE 44               [ 4]  482 	ld	b, h
      0001DF 0A               [ 8]  483 	ld	a, (bc)
      0001E0 B7               [ 4]  484 	or	a, a
      0001E1 CArC0r02         [16]  485 	jp	Z,00109$
                                    486 ;..\sprite.c:40: int frameOffset = frame * this->tileDimension.width * this->tileDimension.height;
      0001E4 F8 08            [12]  487 	ldhl	sp,#8
      0001E6 2A               [ 8]  488 	ld	a, (hl+)
      0001E7 5F               [ 4]  489 	ld	e, a
      0001E8 56               [ 8]  490 	ld	d, (hl)
      0001E9 21 09 00         [12]  491 	ld	hl, #0x0009
      0001EC 19               [ 8]  492 	add	hl, de
      0001ED 33               [ 8]  493 	inc	sp
      0001EE 33               [ 8]  494 	inc	sp
      0001EF 5D               [ 4]  495 	ld	e, l
      0001F0 54               [ 4]  496 	ld	d, h
      0001F1 D5               [16]  497 	push	de
      0001F2 1A               [ 8]  498 	ld	a, (de)
      0001F3 F8 02            [12]  499 	ldhl	sp,	#2
      0001F5 22               [ 8]  500 	ld	(hl+), a
      0001F6 13               [ 8]  501 	inc	de
      0001F7 1A               [ 8]  502 	ld	a, (de)
      0001F8 32               [ 8]  503 	ld	(hl-), a
      0001F9 2A               [ 8]  504 	ld	a, (hl+)
      0001FA 4F               [ 4]  505 	ld	c, a
      0001FB 46               [ 8]  506 	ld	b, (hl)
      0001FC F8 06            [12]  507 	ldhl	sp,	#6
      0001FE 2A               [ 8]  508 	ld	a, (hl+)
      0001FF 5F               [ 4]  509 	ld	e, a
      000200 56               [ 8]  510 	ld	d, (hl)
      000201 CDr00r00         [24]  511 	call	__mulint
      000204 F8 04            [12]  512 	ldhl	sp,	#4
      000206 79               [ 4]  513 	ld	a, c
      000207 22               [ 8]  514 	ld	(hl+), a
      000208 70               [ 8]  515 	ld	(hl), b
      000209 E1               [12]  516 	pop	hl
      00020A E5               [16]  517 	push	hl
      00020B 23               [ 8]  518 	inc	hl
      00020C 23               [ 8]  519 	inc	hl
      00020D 2A               [ 8]  520 	ld	a,	(hl+)
      00020E 66               [ 8]  521 	ld	h, (hl)
                                    522 ;	spillPairReg hl
      00020F 6F               [ 4]  523 	ld	l, a
                                    524 ;	spillPairReg hl
                                    525 ;	spillPairReg hl
      000210 E5               [16]  526 	push	hl
      000211 4D               [ 4]  527 	ld	c, l
      000212 44               [ 4]  528 	ld	b, h
      000213 E5               [16]  529 	push	hl
      000214 F8 08            [12]  530 	ldhl	sp,	#8
      000216 5E               [ 8]  531 	ld	e, (hl)
      000217 F8 09            [12]  532 	ldhl	sp,	#9
      000219 56               [ 8]  533 	ld	d, (hl)
      00021A E1               [12]  534 	pop	hl
                                    535 ;..\sprite.c:41: int totalTiles = this->tileDimension.width * this->tileDimension.height;
      00021B CDr00r00         [24]  536 	call	__mulint
      00021E F8 06            [12]  537 	ldhl	sp,	#6
      000220 79               [ 4]  538 	ld	a, c
      000221 22               [ 8]  539 	ld	(hl+), a
      000222 70               [ 8]  540 	ld	(hl), b
      000223 C1               [12]  541 	pop	bc
      000224 F8 02            [12]  542 	ldhl	sp,	#2
      000226 2A               [ 8]  543 	ld	a, (hl+)
      000227 5F               [ 4]  544 	ld	e, a
      000228 56               [ 8]  545 	ld	d, (hl)
                                    546 ;..\sprite.c:42: set_sprite_data(this->tileIndex, totalTiles, this->data + (frameOffset * 16));
      000229 CDr00r00         [24]  547 	call	__mulint
      00022C E1               [12]  548 	pop	hl
      00022D C5               [16]  549 	push	bc
      00022E F8 08            [12]  550 	ldhl	sp,#8
      000230 2A               [ 8]  551 	ld	a, (hl+)
      000231 5F               [ 4]  552 	ld	e, a
      000232 56               [ 8]  553 	ld	d, (hl)
      000233 21 13 00         [12]  554 	ld	hl, #0x0013
      000236 19               [ 8]  555 	add	hl, de
      000237 2A               [ 8]  556 	ld	a, (hl+)
      000238 4F               [ 4]  557 	ld	c, a
      000239 46               [ 8]  558 	ld	b, (hl)
      00023A F8 04            [12]  559 	ldhl	sp,	#4
      00023C 2A               [ 8]  560 	ld	a, (hl+)
      00023D 5E               [ 8]  561 	ld	e, (hl)
      00023E 87               [ 4]  562 	add	a, a
      00023F CB 13            [ 8]  563 	rl	e
      000241 87               [ 4]  564 	add	a, a
      000242 CB 13            [ 8]  565 	rl	e
      000244 87               [ 4]  566 	add	a, a
      000245 CB 13            [ 8]  567 	rl	e
      000247 87               [ 4]  568 	add	a, a
      000248 CB 13            [ 8]  569 	rl	e
      00024A 81               [ 4]  570 	add	a, c
      00024B 4F               [ 4]  571 	ld	c, a
      00024C 7B               [ 4]  572 	ld	a, e
      00024D 88               [ 4]  573 	adc	a, b
      00024E 47               [ 4]  574 	ld	b, a
      00024F F8 00            [12]  575 	ldhl	sp,	#0
      000251 7E               [ 8]  576 	ld	a, (hl)
      000252 F8 05            [12]  577 	ldhl	sp,	#5
      000254 77               [ 8]  578 	ld	(hl), a
      000255 F8 08            [12]  579 	ldhl	sp,#8
      000257 2A               [ 8]  580 	ld	a, (hl+)
      000258 5F               [ 4]  581 	ld	e, a
      000259 56               [ 8]  582 	ld	d, (hl)
      00025A 21 02 00         [12]  583 	ld	hl, #0x0002
      00025D 19               [ 8]  584 	add	hl, de
      00025E E5               [16]  585 	push	hl
      00025F 7D               [ 4]  586 	ld	a, l
      000260 F8 04            [12]  587 	ldhl	sp,	#4
      000262 77               [ 8]  588 	ld	(hl), a
      000263 E1               [12]  589 	pop	hl
      000264 7C               [ 4]  590 	ld	a, h
      000265 F8 03            [12]  591 	ldhl	sp,	#3
      000267 32               [ 8]  592 	ld	(hl-), a
      000268 2A               [ 8]  593 	ld	a, (hl+)
      000269 5F               [ 4]  594 	ld	e, a
      00026A 2A               [ 8]  595 	ld	a, (hl+)
      00026B 23               [ 8]  596 	inc	hl
      00026C 57               [ 4]  597 	ld	d, a
      00026D 1A               [ 8]  598 	ld	a, (de)
      00026E C5               [16]  599 	push	bc
      00026F 66               [ 8]  600 	ld	h, (hl)
                                    601 ;	spillPairReg hl
                                    602 ;	spillPairReg hl
      000270 E5               [16]  603 	push	hl
      000271 33               [ 8]  604 	inc	sp
      000272 F5               [16]  605 	push	af
      000273 33               [ 8]  606 	inc	sp
      000274 CDr00r00         [24]  607 	call	_set_sprite_data
      000277 E8 04            [16]  608 	add	sp, #4
                                    609 ;..\sprite.c:43: for(int i = 0; i < totalTiles; i++)
      000279 01 00 00         [12]  610 	ld	bc, #0x0000
      00027C                        611 00107$:
      00027C F8 00            [12]  612 	ldhl	sp,	#0
      00027E 79               [ 4]  613 	ld	a, c
      00027F 96               [ 8]  614 	sub	a, (hl)
      000280 23               [ 8]  615 	inc	hl
      000281 78               [ 4]  616 	ld	a, b
      000282 9E               [ 8]  617 	sbc	a, (hl)
      000283 78               [ 4]  618 	ld	a, b
      000284 57               [ 4]  619 	ld	d, a
      000285 5E               [ 8]  620 	ld	e, (hl)
      000286 CB 7B            [ 8]  621 	bit	7, e
      000288 28 07            [12]  622 	jr	Z, 00134$
      00028A CB 7A            [ 8]  623 	bit	7, d
      00028C 20 08            [12]  624 	jr	NZ, 00135$
      00028E BF               [ 4]  625 	cp	a, a
      00028F 18 05            [12]  626 	jr	00135$
      000291                        627 00134$:
      000291 CB 7A            [ 8]  628 	bit	7, d
      000293 28 01            [12]  629 	jr	Z, 00135$
      000295 37               [ 4]  630 	scf
      000296                        631 00135$:
      000296 30 28            [12]  632 	jr	NC, 00109$
                                    633 ;..\sprite.c:45: set_sprite_tile(this->spriteIndex + i, this->tileIndex + i);
      000298 F8 02            [12]  634 	ldhl	sp,#2
      00029A 2A               [ 8]  635 	ld	a, (hl+)
      00029B 5F               [ 4]  636 	ld	e, a
      00029C 2A               [ 8]  637 	ld	a, (hl+)
      00029D 57               [ 4]  638 	ld	d, a
      00029E 1A               [ 8]  639 	ld	a, (de)
      00029F 71               [ 8]  640 	ld	(hl), c
      0002A0 86               [ 8]  641 	add	a, (hl)
      0002A1 23               [ 8]  642 	inc	hl
      0002A2 77               [ 8]  643 	ld	(hl), a
      0002A3 F8 08            [12]  644 	ldhl	sp,#8
      0002A5 2A               [ 8]  645 	ld	a, (hl+)
      0002A6 5F               [ 4]  646 	ld	e, a
      0002A7 56               [ 8]  647 	ld	d, (hl)
      0002A8 1A               [ 8]  648 	ld	a, (de)
      0002A9 F8 04            [12]  649 	ldhl	sp,	#4
      0002AB 86               [ 8]  650 	add	a, (hl)
                                    651 ;c:\source\gameboy\gbdk-win64\gbdk\include\gb\gb.h:1804: shadow_OAM[nb].tile=tile;
      0002AC 6F               [ 4]  652 	ld	l, a
                                    653 ;	spillPairReg hl
                                    654 ;	spillPairReg hl
      0002AD 26 00            [ 8]  655 	ld	h, #0x00
                                    656 ;	spillPairReg hl
                                    657 ;	spillPairReg hl
      0002AF 29               [ 8]  658 	add	hl, hl
      0002B0 29               [ 8]  659 	add	hl, hl
      0002B1 11r00r00         [12]  660 	ld	de, #_shadow_OAM
      0002B4 19               [ 8]  661 	add	hl, de
      0002B5 23               [ 8]  662 	inc	hl
      0002B6 23               [ 8]  663 	inc	hl
      0002B7 5D               [ 4]  664 	ld	e, l
      0002B8 54               [ 4]  665 	ld	d, h
      0002B9 F8 05            [12]  666 	ldhl	sp,	#5
      0002BB 7E               [ 8]  667 	ld	a, (hl)
      0002BC 12               [ 8]  668 	ld	(de), a
                                    669 ;..\sprite.c:43: for(int i = 0; i < totalTiles; i++)
      0002BD 03               [ 8]  670 	inc	bc
      0002BE 18 BC            [12]  671 	jr	00107$
      0002C0                        672 00109$:
                                    673 ;..\sprite.c:47: }
      0002C0 E8 0A            [16]  674 	add	sp, #10
      0002C2 C9               [16]  675 	ret
                                    676 ;..\sprite.c:49: void setVisible(struct Sprite* this, bool visible) {
                                    677 ;	---------------------------------
                                    678 ; Function setVisible
                                    679 ; ---------------------------------
      0002C3                        680 _setVisible::
      0002C3 E8 F7            [16]  681 	add	sp, #-9
      0002C5 F8 07            [12]  682 	ldhl	sp,	#7
      0002C7 73               [ 8]  683 	ld	(hl), e
      0002C8 23               [ 8]  684 	inc	hl
      0002C9 72               [ 8]  685 	ld	(hl), d
      0002CA 2B               [ 8]  686 	dec	hl
      0002CB 2B               [ 8]  687 	dec	hl
                                    688 ;..\sprite.c:50: if(visible == this->visible) return; // no op;
      0002CC 22               [ 8]  689 	ld	(hl+), a
      0002CD 2A               [ 8]  690 	ld	a, (hl+)
      0002CE 5F               [ 4]  691 	ld	e, a
      0002CF 56               [ 8]  692 	ld	d, (hl)
      0002D0 21 11 00         [12]  693 	ld	hl, #0x0011
      0002D3 19               [ 8]  694 	add	hl, de
      0002D4 4D               [ 4]  695 	ld	c, l
      0002D5 44               [ 4]  696 	ld	b, h
      0002D6 0A               [ 8]  697 	ld	a, (bc)
      0002D7 57               [ 4]  698 	ld	d, a
      0002D8 F8 06            [12]  699 	ldhl	sp,	#6
      0002DA 7E               [ 8]  700 	ld	a, (hl)
      0002DB 92               [ 4]  701 	sub	a, d
      0002DC CArB3r03         [16]  702 	jp	Z,00116$
                                    703 ;..\sprite.c:51: this->visible = visible;
      0002DF F8 06            [12]  704 	ldhl	sp,	#6
                                    705 ;..\sprite.c:52: int totalTiles = this->tileDimension.width * this->tileDimension.height;
      0002E1 2A               [ 8]  706 	ld	a, (hl+)
      0002E2 02               [ 8]  707 	ld	(bc), a
      0002E3 2A               [ 8]  708 	ld	a, (hl+)
      0002E4 5F               [ 4]  709 	ld	e, a
      0002E5 56               [ 8]  710 	ld	d, (hl)
      0002E6 21 09 00         [12]  711 	ld	hl, #0x0009
      0002E9 19               [ 8]  712 	add	hl, de
      0002EA 4D               [ 4]  713 	ld	c, l
      0002EB 44               [ 4]  714 	ld	b, h
      0002EC 59               [ 4]  715 	ld	e, c
      0002ED 50               [ 4]  716 	ld	d, b
      0002EE 1A               [ 8]  717 	ld	a, (de)
      0002EF F8 04            [12]  718 	ldhl	sp,	#4
      0002F1 22               [ 8]  719 	ld	(hl+), a
      0002F2 13               [ 8]  720 	inc	de
      0002F3 1A               [ 8]  721 	ld	a, (de)
      0002F4 77               [ 8]  722 	ld	(hl), a
      0002F5 69               [ 4]  723 	ld	l, c
      0002F6 60               [ 4]  724 	ld	h, b
      0002F7 23               [ 8]  725 	inc	hl
      0002F8 23               [ 8]  726 	inc	hl
      0002F9 2A               [ 8]  727 	ld	a, (hl+)
      0002FA 4F               [ 4]  728 	ld	c, a
      0002FB 46               [ 8]  729 	ld	b, (hl)
      0002FC F8 04            [12]  730 	ldhl	sp,	#4
      0002FE 2A               [ 8]  731 	ld	a, (hl+)
      0002FF 5F               [ 4]  732 	ld	e, a
      000300 56               [ 8]  733 	ld	d, (hl)
                                    734 ;..\sprite.c:53: if(!visible) {
      000301 CDr00r00         [24]  735 	call	__mulint
      000304 E1               [12]  736 	pop	hl
      000305 C5               [16]  737 	push	bc
      000306 F8 06            [12]  738 	ldhl	sp,	#6
      000308 7E               [ 8]  739 	ld	a, (hl)
      000309 B7               [ 4]  740 	or	a, a
      00030A 20 4D            [12]  741 	jr	NZ, 00123$
                                    742 ;..\sprite.c:55: for(int i = this->spriteIndex; i < this->spriteIndex + totalTiles; i++)
      00030C 23               [ 8]  743 	inc	hl
      00030D 2A               [ 8]  744 	ld	a, (hl+)
      00030E 5F               [ 4]  745 	ld	e, a
      00030F 56               [ 8]  746 	ld	d, (hl)
      000310 1A               [ 8]  747 	ld	a, (de)
      000311 F8 04            [12]  748 	ldhl	sp,	#4
      000313 22               [ 8]  749 	ld	(hl+), a
      000314 13               [ 8]  750 	inc	de
      000315 1A               [ 8]  751 	ld	a, (de)
      000316 77               [ 8]  752 	ld	(hl), a
      000317                        753 00111$:
      000317 F8 07            [12]  754 	ldhl	sp,#7
      000319 2A               [ 8]  755 	ld	a, (hl+)
      00031A 5F               [ 4]  756 	ld	e, a
      00031B 56               [ 8]  757 	ld	d, (hl)
      00031C 1A               [ 8]  758 	ld	a, (de)
      00031D 4F               [ 4]  759 	ld	c, a
      00031E 13               [ 8]  760 	inc	de
      00031F 1A               [ 8]  761 	ld	a, (de)
      000320 47               [ 4]  762 	ld	b, a
      000321 E1               [12]  763 	pop	hl
      000322 E5               [16]  764 	push	hl
      000323 09               [ 8]  765 	add	hl, bc
      000324 4D               [ 4]  766 	ld	c, l
      000325 44               [ 4]  767 	ld	b, h
      000326 F8 04            [12]  768 	ldhl	sp,	#4
      000328 2A               [ 8]  769 	ld	a, (hl+)
      000329 91               [ 4]  770 	sub	a, c
      00032A 7E               [ 8]  771 	ld	a, (hl)
      00032B 98               [ 4]  772 	sbc	a, b
      00032C 56               [ 8]  773 	ld	d, (hl)
      00032D 78               [ 4]  774 	ld	a, b
      00032E 5F               [ 4]  775 	ld	e, a
      00032F CB 7B            [ 8]  776 	bit	7, e
      000331 28 07            [12]  777 	jr	Z, 00164$
      000333 CB 7A            [ 8]  778 	bit	7, d
      000335 20 08            [12]  779 	jr	NZ, 00165$
      000337 BF               [ 4]  780 	cp	a, a
      000338 18 05            [12]  781 	jr	00165$
      00033A                        782 00164$:
      00033A CB 7A            [ 8]  783 	bit	7, d
      00033C 28 01            [12]  784 	jr	Z, 00165$
      00033E 37               [ 4]  785 	scf
      00033F                        786 00165$:
      00033F 30 72            [12]  787 	jr	NC, 00116$
                                    788 ;..\sprite.c:56: set_sprite_tile(i, 0);
      000341 F8 04            [12]  789 	ldhl	sp,	#4
                                    790 ;c:\source\gameboy\gbdk-win64\gbdk\include\gb\gb.h:1804: shadow_OAM[nb].tile=tile;
      000343 6E               [ 8]  791 	ld	l, (hl)
      000344 01r00r00         [12]  792 	ld	bc, #_shadow_OAM+0
                                    793 ;	spillPairReg hl
                                    794 ;	spillPairReg hl
      000347 26 00            [ 8]  795 	ld	h, #0x00
                                    796 ;	spillPairReg hl
                                    797 ;	spillPairReg hl
      000349 29               [ 8]  798 	add	hl, hl
      00034A 29               [ 8]  799 	add	hl, hl
      00034B 09               [ 8]  800 	add	hl, bc
      00034C 23               [ 8]  801 	inc	hl
      00034D 23               [ 8]  802 	inc	hl
      00034E 36 00            [12]  803 	ld	(hl), #0x00
                                    804 ;..\sprite.c:55: for(int i = this->spriteIndex; i < this->spriteIndex + totalTiles; i++)
      000350 F8 04            [12]  805 	ldhl	sp,	#4
      000352 34               [12]  806 	inc	(hl)
      000353 20 C2            [12]  807 	jr	NZ, 00111$
      000355 23               [ 8]  808 	inc	hl
      000356 34               [12]  809 	inc	(hl)
      000357 18 BE            [12]  810 	jr	00111$
                                    811 ;..\sprite.c:60: for(int i = 0; i < totalTiles; i++)
      000359                        812 00123$:
      000359 F8 07            [12]  813 	ldhl	sp,#7
      00035B 2A               [ 8]  814 	ld	a, (hl+)
      00035C 5F               [ 4]  815 	ld	e, a
      00035D 56               [ 8]  816 	ld	d, (hl)
      00035E 21 02 00         [12]  817 	ld	hl, #0x0002
      000361 19               [ 8]  818 	add	hl, de
      000362 E5               [16]  819 	push	hl
      000363 7D               [ 4]  820 	ld	a, l
      000364 F8 04            [12]  821 	ldhl	sp,	#4
      000366 77               [ 8]  822 	ld	(hl), a
      000367 E1               [12]  823 	pop	hl
      000368 7C               [ 4]  824 	ld	a, h
      000369 F8 03            [12]  825 	ldhl	sp,	#3
      00036B 77               [ 8]  826 	ld	(hl), a
      00036C 01 00 00         [12]  827 	ld	bc, #0x0000
      00036F                        828 00114$:
      00036F F8 00            [12]  829 	ldhl	sp,	#0
      000371 79               [ 4]  830 	ld	a, c
      000372 96               [ 8]  831 	sub	a, (hl)
      000373 23               [ 8]  832 	inc	hl
      000374 78               [ 4]  833 	ld	a, b
      000375 9E               [ 8]  834 	sbc	a, (hl)
      000376 78               [ 4]  835 	ld	a, b
      000377 57               [ 4]  836 	ld	d, a
      000378 5E               [ 8]  837 	ld	e, (hl)
      000379 CB 7B            [ 8]  838 	bit	7, e
      00037B 28 07            [12]  839 	jr	Z, 00167$
      00037D CB 7A            [ 8]  840 	bit	7, d
      00037F 20 08            [12]  841 	jr	NZ, 00168$
      000381 BF               [ 4]  842 	cp	a, a
      000382 18 05            [12]  843 	jr	00168$
      000384                        844 00167$:
      000384 CB 7A            [ 8]  845 	bit	7, d
      000386 28 01            [12]  846 	jr	Z, 00168$
      000388 37               [ 4]  847 	scf
      000389                        848 00168$:
      000389 30 28            [12]  849 	jr	NC, 00116$
                                    850 ;..\sprite.c:62: set_sprite_tile(this->spriteIndex + i, this->tileIndex + i);
      00038B F8 02            [12]  851 	ldhl	sp,#2
      00038D 2A               [ 8]  852 	ld	a, (hl+)
      00038E 5F               [ 4]  853 	ld	e, a
      00038F 2A               [ 8]  854 	ld	a, (hl+)
      000390 57               [ 4]  855 	ld	d, a
      000391 1A               [ 8]  856 	ld	a, (de)
      000392 71               [ 8]  857 	ld	(hl), c
      000393 86               [ 8]  858 	add	a, (hl)
      000394 23               [ 8]  859 	inc	hl
      000395 77               [ 8]  860 	ld	(hl), a
      000396 F8 07            [12]  861 	ldhl	sp,#7
      000398 2A               [ 8]  862 	ld	a, (hl+)
      000399 5F               [ 4]  863 	ld	e, a
      00039A 56               [ 8]  864 	ld	d, (hl)
      00039B 1A               [ 8]  865 	ld	a, (de)
      00039C F8 04            [12]  866 	ldhl	sp,	#4
      00039E 86               [ 8]  867 	add	a, (hl)
                                    868 ;c:\source\gameboy\gbdk-win64\gbdk\include\gb\gb.h:1804: shadow_OAM[nb].tile=tile;
      00039F 6F               [ 4]  869 	ld	l, a
                                    870 ;	spillPairReg hl
                                    871 ;	spillPairReg hl
      0003A0 26 00            [ 8]  872 	ld	h, #0x00
                                    873 ;	spillPairReg hl
                                    874 ;	spillPairReg hl
      0003A2 29               [ 8]  875 	add	hl, hl
      0003A3 29               [ 8]  876 	add	hl, hl
      0003A4 11r00r00         [12]  877 	ld	de, #_shadow_OAM
      0003A7 19               [ 8]  878 	add	hl, de
      0003A8 23               [ 8]  879 	inc	hl
      0003A9 23               [ 8]  880 	inc	hl
      0003AA 5D               [ 4]  881 	ld	e, l
      0003AB 54               [ 4]  882 	ld	d, h
      0003AC F8 05            [12]  883 	ldhl	sp,	#5
      0003AE 7E               [ 8]  884 	ld	a, (hl)
      0003AF 12               [ 8]  885 	ld	(de), a
                                    886 ;..\sprite.c:60: for(int i = 0; i < totalTiles; i++)
      0003B0 03               [ 8]  887 	inc	bc
      0003B1 18 BC            [12]  888 	jr	00114$
      0003B3                        889 00116$:
                                    890 ;..\sprite.c:65: }
      0003B3 E8 09            [16]  891 	add	sp, #9
      0003B5 C9               [16]  892 	ret
                                    893 ;..\sprite.c:67: bool getVisible(struct Sprite* this) {
                                    894 ;	---------------------------------
                                    895 ; Function getVisible
                                    896 ; ---------------------------------
      0003B6                        897 _getVisible::
                                    898 ;..\sprite.c:68: return this->visible;
      0003B6 21 11 00         [12]  899 	ld	hl, #0x0011
      0003B9 19               [ 8]  900 	add	hl, de
      0003BA 7E               [ 8]  901 	ld	a, (hl)
                                    902 ;..\sprite.c:69: }
      0003BB C9               [16]  903 	ret
                                    904 ;..\sprite.c:71: void move(struct Sprite* this, int screen_x, int screen_y) {
                                    905 ;	---------------------------------
                                    906 ; Function move
                                    907 ; ---------------------------------
      0003BC                        908 _move::
      0003BC E8 EF            [16]  909 	add	sp, #-17
      0003BE F8 0D            [12]  910 	ldhl	sp,	#13
      0003C0 7B               [ 4]  911 	ld	a, e
      0003C1 22               [ 8]  912 	ld	(hl+), a
      0003C2 72               [ 8]  913 	ld	(hl), d
      0003C3 F8 0B            [12]  914 	ldhl	sp,	#11
      0003C5 79               [ 4]  915 	ld	a, c
      0003C6 22               [ 8]  916 	ld	(hl+), a
                                    917 ;..\sprite.c:73: if(this->hidden == false && isOnScreen(this, screen_x, screen_y)) {
      0003C7 78               [ 4]  918 	ld	a, b
      0003C8 22               [ 8]  919 	ld	(hl+), a
      0003C9 2A               [ 8]  920 	ld	a, (hl+)
      0003CA 5F               [ 4]  921 	ld	e, a
      0003CB 56               [ 8]  922 	ld	d, (hl)
      0003CC 21 12 00         [12]  923 	ld	hl, #0x0012
      0003CF 19               [ 8]  924 	add	hl, de
      0003D0 4D               [ 4]  925 	ld	c, l
      0003D1 44               [ 4]  926 	ld	b, h
      0003D2 0A               [ 8]  927 	ld	a, (bc)
      0003D3 B7               [ 4]  928 	or	a, a
      0003D4 20 21            [12]  929 	jr	NZ, 00102$
      0003D6 F8 13            [12]  930 	ldhl	sp,	#19
      0003D8 5E               [ 8]  931 	ld	e, (hl)
      0003D9 23               [ 8]  932 	inc	hl
      0003DA 56               [ 8]  933 	ld	d, (hl)
      0003DB D5               [16]  934 	push	de
      0003DC F8 0D            [12]  935 	ldhl	sp,	#13
      0003DE 4E               [ 8]  936 	ld	c, (hl)
      0003DF 23               [ 8]  937 	inc	hl
      0003E0 46               [ 8]  938 	ld	b, (hl)
      0003E1 23               [ 8]  939 	inc	hl
      0003E2 5E               [ 8]  940 	ld	e, (hl)
      0003E3 23               [ 8]  941 	inc	hl
      0003E4 56               [ 8]  942 	ld	d, (hl)
      0003E5 CDrD4r00         [24]  943 	call	_isOnScreen
      0003E8 B7               [ 4]  944 	or	a, a
      0003E9 28 0C            [12]  945 	jr	Z, 00102$
                                    946 ;..\sprite.c:74: setVisible(this, true);
      0003EB 3E 01            [ 8]  947 	ld	a, #0x01
      0003ED F8 0D            [12]  948 	ldhl	sp,	#13
      0003EF 5E               [ 8]  949 	ld	e, (hl)
      0003F0 23               [ 8]  950 	inc	hl
      0003F1 56               [ 8]  951 	ld	d, (hl)
      0003F2 CDrC3r02         [24]  952 	call	_setVisible
      0003F5 18 09            [12]  953 	jr	00103$
      0003F7                        954 00102$:
                                    955 ;..\sprite.c:77: setVisible(this, false);
      0003F7 AF               [ 4]  956 	xor	a, a
      0003F8 F8 0D            [12]  957 	ldhl	sp,	#13
      0003FA 5E               [ 8]  958 	ld	e, (hl)
      0003FB 23               [ 8]  959 	inc	hl
      0003FC 56               [ 8]  960 	ld	d, (hl)
      0003FD CDrC3r02         [24]  961 	call	_setVisible
      000400                        962 00103$:
                                    963 ;..\sprite.c:79: if(this->renderMode == RENDER_16X16) {
      000400 F8 0D            [12]  964 	ldhl	sp,#13
      000402 2A               [ 8]  965 	ld	a, (hl+)
      000403 5F               [ 4]  966 	ld	e, a
      000404 56               [ 8]  967 	ld	d, (hl)
      000405 21 04 00         [12]  968 	ld	hl, #0x0004
      000408 19               [ 8]  969 	add	hl, de
      000409 4D               [ 4]  970 	ld	c, l
      00040A 44               [ 4]  971 	ld	b, h
      00040B 0A               [ 8]  972 	ld	a, (bc)
      00040C 4F               [ 4]  973 	ld	c, a
                                    974 ;..\sprite.c:80: for(int y = 0; y < this->tileDimension.height; y++)
      00040D F8 0D            [12]  975 	ldhl	sp,#13
      00040F 2A               [ 8]  976 	ld	a, (hl+)
      000410 5F               [ 4]  977 	ld	e, a
      000411 56               [ 8]  978 	ld	d, (hl)
      000412 21 09 00         [12]  979 	ld	hl, #0x0009
      000415 19               [ 8]  980 	add	hl, de
      000416 5D               [ 4]  981 	ld	e, l
      000417 54               [ 4]  982 	ld	d, h
      000418 D5               [16]  983 	push	de
      000419 21 02 00         [12]  984 	ld	hl, #0x0002
      00041C 19               [ 8]  985 	add	hl, de
      00041D D1               [12]  986 	pop	de
      00041E E5               [16]  987 	push	hl
      00041F 7D               [ 4]  988 	ld	a, l
      000420 F8 11            [12]  989 	ldhl	sp,	#17
      000422 77               [ 8]  990 	ld	(hl), a
      000423 E1               [12]  991 	pop	hl
      000424 7C               [ 4]  992 	ld	a, h
      000425 F8 10            [12]  993 	ldhl	sp,	#16
      000427 77               [ 8]  994 	ld	(hl), a
                                    995 ;..\sprite.c:79: if(this->renderMode == RENDER_16X16) {
      000428 CB 41            [ 8]  996 	bit	0, c
      00042A CArEFr04         [16]  997 	jp	Z, 00112$
                                    998 ;..\sprite.c:80: for(int y = 0; y < this->tileDimension.height; y++)
      00042D 2B               [ 8]  999 	dec	hl
      00042E 33               [ 8] 1000 	inc	sp
      00042F 33               [ 8] 1001 	inc	sp
      000430 D5               [16] 1002 	push	de
      000431 7E               [ 8] 1003 	ld	a, (hl)
      000432 F8 02            [12] 1004 	ldhl	sp,	#2
      000434 77               [ 8] 1005 	ld	(hl), a
      000435 F8 10            [12] 1006 	ldhl	sp,	#16
      000437 7E               [ 8] 1007 	ld	a, (hl)
      000438 F8 03            [12] 1008 	ldhl	sp,	#3
      00043A 77               [ 8] 1009 	ld	(hl), a
      00043B AF               [ 4] 1010 	xor	a, a
      00043C F8 09            [12] 1011 	ldhl	sp,	#9
      00043E 22               [ 8] 1012 	ld	(hl+), a
      00043F 77               [ 8] 1013 	ld	(hl), a
      000440                       1014 00120$:
      000440 F8 02            [12] 1015 	ldhl	sp,#2
      000442 2A               [ 8] 1016 	ld	a, (hl+)
      000443 5F               [ 4] 1017 	ld	e, a
      000444 56               [ 8] 1018 	ld	d, (hl)
      000445 1A               [ 8] 1019 	ld	a, (de)
      000446 4F               [ 4] 1020 	ld	c, a
      000447 13               [ 8] 1021 	inc	de
      000448 1A               [ 8] 1022 	ld	a, (de)
      000449 47               [ 4] 1023 	ld	b, a
      00044A F8 09            [12] 1024 	ldhl	sp,	#9
      00044C 2A               [ 8] 1025 	ld	a, (hl+)
      00044D 91               [ 4] 1026 	sub	a, c
      00044E 7E               [ 8] 1027 	ld	a, (hl)
      00044F 98               [ 4] 1028 	sbc	a, b
      000450 56               [ 8] 1029 	ld	d, (hl)
      000451 78               [ 4] 1030 	ld	a, b
      000452 5F               [ 4] 1031 	ld	e, a
      000453 CB 7B            [ 8] 1032 	bit	7, e
      000455 28 07            [12] 1033 	jr	Z, 00218$
      000457 CB 7A            [ 8] 1034 	bit	7, d
      000459 20 08            [12] 1035 	jr	NZ, 00219$
      00045B BF               [ 4] 1036 	cp	a, a
      00045C 18 05            [12] 1037 	jr	00219$
      00045E                       1038 00218$:
      00045E CB 7A            [ 8] 1039 	bit	7, d
      000460 28 01            [12] 1040 	jr	Z, 00219$
      000462 37               [ 4] 1041 	scf
      000463                       1042 00219$:
      000463 D2rAFr05         [16] 1043 	jp	NC, 00128$
                                   1044 ;..\sprite.c:83: for(int x = 0; x < this->tileDimension.width; x++)
      000466 AF               [ 4] 1045 	xor	a, a
      000467 F8 0F            [12] 1046 	ldhl	sp,	#15
      000469 22               [ 8] 1047 	ld	(hl+), a
      00046A 77               [ 8] 1048 	ld	(hl), a
      00046B                       1049 00117$:
      00046B D1               [12] 1050 	pop	de
      00046C D5               [16] 1051 	push	de
      00046D 1A               [ 8] 1052 	ld	a, (de)
      00046E F8 04            [12] 1053 	ldhl	sp,	#4
      000470 22               [ 8] 1054 	ld	(hl+), a
      000471 13               [ 8] 1055 	inc	de
      000472 1A               [ 8] 1056 	ld	a, (de)
      000473 77               [ 8] 1057 	ld	(hl), a
      000474 F8 0F            [12] 1058 	ldhl	sp,	#15
      000476 5D               [ 4] 1059 	ld	e, l
      000477 54               [ 4] 1060 	ld	d, h
      000478 F8 04            [12] 1061 	ldhl	sp,	#4
      00047A 1A               [ 8] 1062 	ld	a, (de)
      00047B 13               [ 8] 1063 	inc	de
      00047C 96               [ 8] 1064 	sub	a, (hl)
      00047D 23               [ 8] 1065 	inc	hl
      00047E 1A               [ 8] 1066 	ld	a, (de)
      00047F 9E               [ 8] 1067 	sbc	a, (hl)
      000480 1A               [ 8] 1068 	ld	a, (de)
      000481 57               [ 4] 1069 	ld	d, a
      000482 CB 7E            [12] 1070 	bit	7, (hl)
      000484 28 07            [12] 1071 	jr	Z, 00220$
      000486 CB 7A            [ 8] 1072 	bit	7, d
      000488 20 08            [12] 1073 	jr	NZ, 00221$
      00048A BF               [ 4] 1074 	cp	a, a
      00048B 18 05            [12] 1075 	jr	00221$
      00048D                       1076 00220$:
      00048D CB 7A            [ 8] 1077 	bit	7, d
      00048F 28 01            [12] 1078 	jr	Z, 00221$
      000491 37               [ 4] 1079 	scf
      000492                       1080 00221$:
      000492 30 50            [12] 1081 	jr	NC, 00121$
                                   1082 ;..\sprite.c:85: move_sprite(this->spriteIndex + (y + this->tileDimension.width * x), screen_x + x * 8, screen_y + y * 8);
      000494 F8 13            [12] 1083 	ldhl	sp,	#19
      000496 7E               [ 8] 1084 	ld	a, (hl)
      000497 F8 08            [12] 1085 	ldhl	sp,	#8
      000499 22               [ 8] 1086 	ld	(hl+), a
      00049A 3A               [ 8] 1087 	ld	a, (hl-)
      00049B 4F               [ 4] 1088 	ld	c, a
      00049C 87               [ 4] 1089 	add	a, a
      00049D 87               [ 4] 1090 	add	a, a
      00049E 87               [ 4] 1091 	add	a, a
      00049F 86               [ 8] 1092 	add	a, (hl)
      0004A0 2B               [ 8] 1093 	dec	hl
      0004A1 2B               [ 8] 1094 	dec	hl
      0004A2 77               [ 8] 1095 	ld	(hl), a
      0004A3 F8 0B            [12] 1096 	ldhl	sp,	#11
      0004A5 5E               [ 8] 1097 	ld	e, (hl)
      0004A6 F8 0F            [12] 1098 	ldhl	sp,	#15
      0004A8 46               [ 8] 1099 	ld	b, (hl)
      0004A9 78               [ 4] 1100 	ld	a, b
      0004AA 87               [ 4] 1101 	add	a, a
      0004AB 87               [ 4] 1102 	add	a, a
      0004AC 87               [ 4] 1103 	add	a, a
      0004AD 83               [ 4] 1104 	add	a, e
      0004AE F8 07            [12] 1105 	ldhl	sp,	#7
      0004B0 77               [ 8] 1106 	ld	(hl), a
      0004B1 F8 0D            [12] 1107 	ldhl	sp,#13
      0004B3 2A               [ 8] 1108 	ld	a, (hl+)
      0004B4 5F               [ 4] 1109 	ld	e, a
      0004B5 56               [ 8] 1110 	ld	d, (hl)
      0004B6 1A               [ 8] 1111 	ld	a, (de)
      0004B7 F8 08            [12] 1112 	ldhl	sp,	#8
      0004B9 77               [ 8] 1113 	ld	(hl), a
      0004BA F8 04            [12] 1114 	ldhl	sp,	#4
      0004BC 56               [ 8] 1115 	ld	d, (hl)
      0004BD C5               [16] 1116 	push	bc
      0004BE 58               [ 4] 1117 	ld	e, b
      0004BF 7A               [ 4] 1118 	ld	a, d
      0004C0 CDr00r00         [24] 1119 	call	__mulschar
      0004C3 79               [ 4] 1120 	ld	a, c
      0004C4 C1               [12] 1121 	pop	bc
      0004C5 81               [ 4] 1122 	add	a, c
      0004C6 F8 08            [12] 1123 	ldhl	sp,	#8
      0004C8 86               [ 8] 1124 	add	a, (hl)
                                   1125 ;c:\source\gameboy\gbdk-win64\gbdk\include\gb\gb.h:1877: OAM_item_t * itm = &shadow_OAM[nb];
      0004C9 6F               [ 4] 1126 	ld	l, a
      0004CA 01r00r00         [12] 1127 	ld	bc, #_shadow_OAM+0
                                   1128 ;	spillPairReg hl
                                   1129 ;	spillPairReg hl
      0004CD 26 00            [ 8] 1130 	ld	h, #0x00
                                   1131 ;	spillPairReg hl
                                   1132 ;	spillPairReg hl
      0004CF 29               [ 8] 1133 	add	hl, hl
      0004D0 29               [ 8] 1134 	add	hl, hl
      0004D1 09               [ 8] 1135 	add	hl, bc
      0004D2 4D               [ 4] 1136 	ld	c, l
      0004D3 44               [ 4] 1137 	ld	b, h
                                   1138 ;c:\source\gameboy\gbdk-win64\gbdk\include\gb\gb.h:1878: itm->y=y, itm->x=x;
      0004D4 F8 06            [12] 1139 	ldhl	sp,	#6
      0004D6 2A               [ 8] 1140 	ld	a, (hl+)
      0004D7 02               [ 8] 1141 	ld	(bc), a
      0004D8 03               [ 8] 1142 	inc	bc
      0004D9 7E               [ 8] 1143 	ld	a, (hl)
      0004DA 02               [ 8] 1144 	ld	(bc), a
                                   1145 ;..\sprite.c:83: for(int x = 0; x < this->tileDimension.width; x++)
      0004DB F8 0F            [12] 1146 	ldhl	sp,	#15
      0004DD 34               [12] 1147 	inc	(hl)
      0004DE 20 8B            [12] 1148 	jr	NZ, 00117$
      0004E0 23               [ 8] 1149 	inc	hl
      0004E1 34               [12] 1150 	inc	(hl)
      0004E2 18 87            [12] 1151 	jr	00117$
      0004E4                       1152 00121$:
                                   1153 ;..\sprite.c:80: for(int y = 0; y < this->tileDimension.height; y++)
      0004E4 F8 09            [12] 1154 	ldhl	sp,	#9
      0004E6 34               [12] 1155 	inc	(hl)
      0004E7 C2r40r04         [16] 1156 	jp	NZ,00120$
      0004EA 23               [ 8] 1157 	inc	hl
      0004EB 34               [12] 1158 	inc	(hl)
      0004EC C3r40r04         [16] 1159 	jp	00120$
      0004EF                       1160 00112$:
                                   1161 ;..\sprite.c:89: else if(this->renderMode == RENDER_8X8) {
      0004EF CB 41            [ 8] 1162 	bit	0, c
      0004F1 C2rAFr05         [16] 1163 	jp	NZ, 00128$
                                   1164 ;..\sprite.c:90: for(int y = 0; y < this->tileDimension.height; y++)
      0004F4 33               [ 8] 1165 	inc	sp
      0004F5 33               [ 8] 1166 	inc	sp
      0004F6 D5               [16] 1167 	push	de
      0004F7 F8 0F            [12] 1168 	ldhl	sp,	#15
      0004F9 7E               [ 8] 1169 	ld	a, (hl)
      0004FA F8 02            [12] 1170 	ldhl	sp,	#2
      0004FC 77               [ 8] 1171 	ld	(hl), a
      0004FD F8 10            [12] 1172 	ldhl	sp,	#16
      0004FF 7E               [ 8] 1173 	ld	a, (hl)
      000500 F8 03            [12] 1174 	ldhl	sp,	#3
      000502 77               [ 8] 1175 	ld	(hl), a
      000503 01 00 00         [12] 1176 	ld	bc, #0x0000
      000506                       1177 00126$:
      000506 F8 02            [12] 1178 	ldhl	sp,#2
      000508 2A               [ 8] 1179 	ld	a, (hl+)
      000509 5F               [ 4] 1180 	ld	e, a
      00050A 56               [ 8] 1181 	ld	d, (hl)
      00050B 1A               [ 8] 1182 	ld	a, (de)
      00050C 6F               [ 4] 1183 	ld	l, a
                                   1184 ;	spillPairReg hl
                                   1185 ;	spillPairReg hl
      00050D 13               [ 8] 1186 	inc	de
      00050E 1A               [ 8] 1187 	ld	a, (de)
      00050F 67               [ 4] 1188 	ld	h, a
                                   1189 ;	spillPairReg hl
                                   1190 ;	spillPairReg hl
      000510 5C               [ 4] 1191 	ld	e, h
      000511 50               [ 4] 1192 	ld	d, b
      000512 79               [ 4] 1193 	ld	a, c
      000513 95               [ 4] 1194 	sub	a, l
      000514 78               [ 4] 1195 	ld	a, b
      000515 9C               [ 4] 1196 	sbc	a, h
      000516 CB 7B            [ 8] 1197 	bit	7, e
      000518 28 07            [12] 1198 	jr	Z, 00224$
      00051A CB 7A            [ 8] 1199 	bit	7, d
      00051C 20 08            [12] 1200 	jr	NZ, 00225$
      00051E BF               [ 4] 1201 	cp	a, a
      00051F 18 05            [12] 1202 	jr	00225$
      000521                       1203 00224$:
      000521 CB 7A            [ 8] 1204 	bit	7, d
      000523 28 01            [12] 1205 	jr	Z, 00225$
      000525 37               [ 4] 1206 	scf
      000526                       1207 00225$:
      000526 D2rAFr05         [16] 1208 	jp	NC, 00128$
                                   1209 ;..\sprite.c:93: for(int x = 0; x < this->tileDimension.width; x++)
      000529 AF               [ 4] 1210 	xor	a, a
      00052A F8 0F            [12] 1211 	ldhl	sp,	#15
      00052C 22               [ 8] 1212 	ld	(hl+), a
      00052D 77               [ 8] 1213 	ld	(hl), a
      00052E                       1214 00123$:
      00052E D1               [12] 1215 	pop	de
      00052F D5               [16] 1216 	push	de
      000530 1A               [ 8] 1217 	ld	a, (de)
      000531 F8 04            [12] 1218 	ldhl	sp,	#4
      000533 22               [ 8] 1219 	ld	(hl+), a
      000534 13               [ 8] 1220 	inc	de
      000535 1A               [ 8] 1221 	ld	a, (de)
      000536 77               [ 8] 1222 	ld	(hl), a
      000537 F8 0F            [12] 1223 	ldhl	sp,	#15
      000539 5D               [ 4] 1224 	ld	e, l
      00053A 54               [ 4] 1225 	ld	d, h
      00053B F8 04            [12] 1226 	ldhl	sp,	#4
      00053D 1A               [ 8] 1227 	ld	a, (de)
      00053E 13               [ 8] 1228 	inc	de
      00053F 96               [ 8] 1229 	sub	a, (hl)
      000540 23               [ 8] 1230 	inc	hl
      000541 1A               [ 8] 1231 	ld	a, (de)
      000542 9E               [ 8] 1232 	sbc	a, (hl)
      000543 1A               [ 8] 1233 	ld	a, (de)
      000544 57               [ 4] 1234 	ld	d, a
      000545 CB 7E            [12] 1235 	bit	7, (hl)
      000547 28 07            [12] 1236 	jr	Z, 00226$
      000549 CB 7A            [ 8] 1237 	bit	7, d
      00054B 20 08            [12] 1238 	jr	NZ, 00227$
      00054D BF               [ 4] 1239 	cp	a, a
      00054E 18 05            [12] 1240 	jr	00227$
      000550                       1241 00226$:
      000550 CB 7A            [ 8] 1242 	bit	7, d
      000552 28 01            [12] 1243 	jr	Z, 00227$
      000554 37               [ 4] 1244 	scf
      000555                       1245 00227$:
      000555 30 54            [12] 1246 	jr	NC, 00127$
                                   1247 ;..\sprite.c:95: move_sprite(this->spriteIndex + (x + this->tileDimension.width * y), screen_x + x * 8, screen_y + y * 8);
      000557 F8 13            [12] 1248 	ldhl	sp,	#19
      000559 5E               [ 8] 1249 	ld	e, (hl)
      00055A F8 06            [12] 1250 	ldhl	sp,	#6
      00055C 71               [ 8] 1251 	ld	(hl), c
      00055D 2A               [ 8] 1252 	ld	a, (hl+)
      00055E 87               [ 4] 1253 	add	a, a
      00055F 87               [ 4] 1254 	add	a, a
      000560 87               [ 4] 1255 	add	a, a
      000561 83               [ 4] 1256 	add	a, e
      000562 77               [ 8] 1257 	ld	(hl), a
      000563 F8 0B            [12] 1258 	ldhl	sp,	#11
      000565 5E               [ 8] 1259 	ld	e, (hl)
      000566 F8 0F            [12] 1260 	ldhl	sp,	#15
      000568 7E               [ 8] 1261 	ld	a, (hl)
      000569 F8 08            [12] 1262 	ldhl	sp,	#8
      00056B 77               [ 8] 1263 	ld	(hl), a
      00056C 2A               [ 8] 1264 	ld	a, (hl+)
      00056D 87               [ 4] 1265 	add	a, a
      00056E 87               [ 4] 1266 	add	a, a
      00056F 87               [ 4] 1267 	add	a, a
      000570 83               [ 4] 1268 	add	a, e
      000571 77               [ 8] 1269 	ld	(hl), a
      000572 F8 0D            [12] 1270 	ldhl	sp,#13
      000574 2A               [ 8] 1271 	ld	a, (hl+)
      000575 5F               [ 4] 1272 	ld	e, a
      000576 56               [ 8] 1273 	ld	d, (hl)
      000577 1A               [ 8] 1274 	ld	a, (de)
      000578 F8 0A            [12] 1275 	ldhl	sp,	#10
      00057A 77               [ 8] 1276 	ld	(hl), a
      00057B F8 04            [12] 1277 	ldhl	sp,	#4
      00057D 2A               [ 8] 1278 	ld	a, (hl+)
      00057E 23               [ 8] 1279 	inc	hl
      00057F 57               [ 4] 1280 	ld	d, a
      000580 C5               [16] 1281 	push	bc
      000581 5E               [ 8] 1282 	ld	e, (hl)
      000582 7A               [ 4] 1283 	ld	a, d
      000583 CDr00r00         [24] 1284 	call	__mulschar
      000586 79               [ 4] 1285 	ld	a, c
      000587 C1               [12] 1286 	pop	bc
      000588 F8 08            [12] 1287 	ldhl	sp,	#8
      00058A 86               [ 8] 1288 	add	a, (hl)
      00058B 23               [ 8] 1289 	inc	hl
      00058C 23               [ 8] 1290 	inc	hl
      00058D 86               [ 8] 1291 	add	a, (hl)
      00058E 5F               [ 4] 1292 	ld	e, a
                                   1293 ;c:\source\gameboy\gbdk-win64\gbdk\include\gb\gb.h:1877: OAM_item_t * itm = &shadow_OAM[nb];
      00058F 26 00            [ 8] 1294 	ld	h, #0x00
                                   1295 ;	spillPairReg hl
                                   1296 ;	spillPairReg hl
      000591 6B               [ 4] 1297 	ld	l, e
      000592 29               [ 8] 1298 	add	hl, hl
      000593 29               [ 8] 1299 	add	hl, hl
      000594 11r00r00         [12] 1300 	ld	de, #_shadow_OAM
      000597 19               [ 8] 1301 	add	hl, de
      000598 5D               [ 4] 1302 	ld	e, l
      000599 54               [ 4] 1303 	ld	d, h
                                   1304 ;c:\source\gameboy\gbdk-win64\gbdk\include\gb\gb.h:1878: itm->y=y, itm->x=x;
      00059A F8 07            [12] 1305 	ldhl	sp,	#7
      00059C 2A               [ 8] 1306 	ld	a, (hl+)
      00059D 23               [ 8] 1307 	inc	hl
      00059E 12               [ 8] 1308 	ld	(de), a
      00059F 13               [ 8] 1309 	inc	de
      0005A0 7E               [ 8] 1310 	ld	a, (hl)
      0005A1 12               [ 8] 1311 	ld	(de), a
                                   1312 ;..\sprite.c:93: for(int x = 0; x < this->tileDimension.width; x++)
      0005A2 F8 0F            [12] 1313 	ldhl	sp,	#15
      0005A4 34               [12] 1314 	inc	(hl)
      0005A5 20 87            [12] 1315 	jr	NZ, 00123$
      0005A7 23               [ 8] 1316 	inc	hl
      0005A8 34               [12] 1317 	inc	(hl)
      0005A9 18 83            [12] 1318 	jr	00123$
      0005AB                       1319 00127$:
                                   1320 ;..\sprite.c:90: for(int y = 0; y < this->tileDimension.height; y++)
      0005AB 03               [ 8] 1321 	inc	bc
      0005AC C3r06r05         [16] 1322 	jp	00126$
      0005AF                       1323 00128$:
                                   1324 ;..\sprite.c:99: }
      0005AF E8 11            [16] 1325 	add	sp, #17
      0005B1 E1               [12] 1326 	pop	hl
      0005B2 F1               [12] 1327 	pop	af
      0005B3 E9               [ 4] 1328 	jp	(hl)
                                   1329 ;..\sprite.c:101: byte create_palette(UWORD first, UWORD second, UWORD third, UWORD fourth) {
                                   1330 ;	---------------------------------
                                   1331 ; Function create_palette
                                   1332 ; ---------------------------------
      0005B4                       1333 _create_palette::
                                   1334 ;..\sprite.c:102: update_palette(palette_index, first, second, third, fourth);
      0005B4 F8 04            [12] 1335 	ldhl	sp,	#4
      0005B6 2A               [ 8] 1336 	ld	a, (hl+)
      0005B7 66               [ 8] 1337 	ld	h, (hl)
                                   1338 ;	spillPairReg hl
                                   1339 ;	spillPairReg hl
      0005B8 6F               [ 4] 1340 	ld	l, a
                                   1341 ;	spillPairReg hl
                                   1342 ;	spillPairReg hl
      0005B9 E5               [16] 1343 	push	hl
      0005BA F8 04            [12] 1344 	ldhl	sp,	#4
      0005BC 2A               [ 8] 1345 	ld	a, (hl+)
      0005BD 66               [ 8] 1346 	ld	h, (hl)
                                   1347 ;	spillPairReg hl
                                   1348 ;	spillPairReg hl
      0005BE 6F               [ 4] 1349 	ld	l, a
                                   1350 ;	spillPairReg hl
                                   1351 ;	spillPairReg hl
      0005BF E5               [16] 1352 	push	hl
      0005C0 C5               [16] 1353 	push	bc
      0005C1 FAr04r00         [16] 1354 	ld	a, (#_palette_index)
      0005C4 CDrD1r05         [24] 1355 	call	_update_palette
                                   1356 ;..\sprite.c:103: byte oldIdex = palette_index;
      0005C7 21r04r00         [12] 1357 	ld	hl, #_palette_index
      0005CA 4E               [ 8] 1358 	ld	c, (hl)
                                   1359 ;..\sprite.c:104: palette_index++;
      0005CB 34               [12] 1360 	inc	(hl)
                                   1361 ;..\sprite.c:105: return oldIdex;
      0005CC 79               [ 4] 1362 	ld	a, c
                                   1363 ;..\sprite.c:106: }
      0005CD E1               [12] 1364 	pop	hl
      0005CE E8 04            [16] 1365 	add	sp, #4
      0005D0 E9               [ 4] 1366 	jp	(hl)
                                   1367 ;..\sprite.c:108: void update_palette(byte hPallet, UWORD first, UWORD second, UWORD third, UWORD fourth) {
                                   1368 ;	---------------------------------
                                   1369 ; Function update_palette
                                   1370 ; ---------------------------------
      0005D1                       1371 _update_palette::
      0005D1 3B               [ 8] 1372 	dec	sp
      0005D2 F8 00            [12] 1373 	ldhl	sp,	#0
      0005D4 77               [ 8] 1374 	ld	(hl), a
                                   1375 ;..\sprite.c:110: palette[0] = first;
      0005D5 01r00r00         [12] 1376 	ld	bc, #_update_palette_palette_65536_201+0
      0005D8 69               [ 4] 1377 	ld	l, c
      0005D9 60               [ 4] 1378 	ld	h, b
      0005DA 7B               [ 4] 1379 	ld	a, e
      0005DB 22               [ 8] 1380 	ld	(hl+), a
      0005DC 72               [ 8] 1381 	ld	(hl), d
                                   1382 ;..\sprite.c:111: palette[1] = second;
      0005DD 11r02r00         [12] 1383 	ld	de, #(_update_palette_palette_65536_201 + 2)
      0005E0 F8 03            [12] 1384 	ldhl	sp,	#3
      0005E2 2A               [ 8] 1385 	ld	a, (hl+)
      0005E3 12               [ 8] 1386 	ld	(de), a
      0005E4 13               [ 8] 1387 	inc	de
                                   1388 ;..\sprite.c:112: palette[2] = third;
      0005E5 2A               [ 8] 1389 	ld	a, (hl+)
      0005E6 12               [ 8] 1390 	ld	(de), a
      0005E7 11r04r00         [12] 1391 	ld	de, #(_update_palette_palette_65536_201 + 4)
      0005EA 2A               [ 8] 1392 	ld	a, (hl+)
      0005EB 12               [ 8] 1393 	ld	(de), a
      0005EC 13               [ 8] 1394 	inc	de
                                   1395 ;..\sprite.c:113: palette[3] = fourth;
      0005ED 2A               [ 8] 1396 	ld	a, (hl+)
      0005EE 12               [ 8] 1397 	ld	(de), a
      0005EF 11r06r00         [12] 1398 	ld	de, #(_update_palette_palette_65536_201 + 6)
      0005F2 2A               [ 8] 1399 	ld	a, (hl+)
      0005F3 12               [ 8] 1400 	ld	(de), a
      0005F4 13               [ 8] 1401 	inc	de
      0005F5 7E               [ 8] 1402 	ld	a, (hl)
      0005F6 12               [ 8] 1403 	ld	(de), a
                                   1404 ;..\sprite.c:114: set_sprite_palette(hPallet, 1, palette);
      0005F7 C5               [16] 1405 	push	bc
      0005F8 3E 01            [ 8] 1406 	ld	a, #0x01
      0005FA F5               [16] 1407 	push	af
      0005FB 33               [ 8] 1408 	inc	sp
      0005FC F8 03            [12] 1409 	ldhl	sp,	#3
      0005FE 7E               [ 8] 1410 	ld	a, (hl)
      0005FF F5               [16] 1411 	push	af
      000600 33               [ 8] 1412 	inc	sp
      000601 CDr00r00         [24] 1413 	call	_set_sprite_palette
                                   1414 ;..\sprite.c:115: }
      000604 E8 05            [16] 1415 	add	sp, #5
      000606 E1               [12] 1416 	pop	hl
      000607 E8 06            [16] 1417 	add	sp, #6
      000609 E9               [ 4] 1418 	jp	(hl)
                                   1419 ;..\sprite.c:118: void setPalette(struct Sprite* this, byte paletteIndex) {
                                   1420 ;	---------------------------------
                                   1421 ; Function setPalette
                                   1422 ; ---------------------------------
      00060A                       1423 _setPalette::
      00060A E8 F9            [16] 1424 	add	sp, #-7
      00060C F8 03            [12] 1425 	ldhl	sp,	#3
      00060E 73               [ 8] 1426 	ld	(hl), e
      00060F 23               [ 8] 1427 	inc	hl
      000610 72               [ 8] 1428 	ld	(hl), d
      000611 2B               [ 8] 1429 	dec	hl
      000612 2B               [ 8] 1430 	dec	hl
                                   1431 ;..\sprite.c:119: int totalTiles = this->tileDimension.width * this->tileDimension.height * this->frames;
      000613 22               [ 8] 1432 	ld	(hl+), a
      000614 2A               [ 8] 1433 	ld	a, (hl+)
      000615 5F               [ 4] 1434 	ld	e, a
      000616 56               [ 8] 1435 	ld	d, (hl)
      000617 21 09 00         [12] 1436 	ld	hl, #0x0009
      00061A 19               [ 8] 1437 	add	hl, de
      00061B 4D               [ 4] 1438 	ld	c, l
      00061C 44               [ 4] 1439 	ld	b, h
      00061D 59               [ 4] 1440 	ld	e, c
      00061E 50               [ 4] 1441 	ld	d, b
      00061F 1A               [ 8] 1442 	ld	a, (de)
      000620 F8 05            [12] 1443 	ldhl	sp,	#5
      000622 22               [ 8] 1444 	ld	(hl+), a
      000623 13               [ 8] 1445 	inc	de
      000624 1A               [ 8] 1446 	ld	a, (de)
      000625 77               [ 8] 1447 	ld	(hl), a
      000626 69               [ 4] 1448 	ld	l, c
      000627 60               [ 4] 1449 	ld	h, b
      000628 23               [ 8] 1450 	inc	hl
      000629 23               [ 8] 1451 	inc	hl
      00062A 2A               [ 8] 1452 	ld	a, (hl+)
      00062B 4F               [ 4] 1453 	ld	c, a
      00062C 46               [ 8] 1454 	ld	b, (hl)
      00062D F8 05            [12] 1455 	ldhl	sp,	#5
      00062F 2A               [ 8] 1456 	ld	a, (hl+)
      000630 5F               [ 4] 1457 	ld	e, a
      000631 56               [ 8] 1458 	ld	d, (hl)
      000632 CDr00r00         [24] 1459 	call	__mulint
      000635 F8 05            [12] 1460 	ldhl	sp,	#5
      000637 79               [ 4] 1461 	ld	a, c
      000638 22               [ 8] 1462 	ld	(hl+), a
      000639 70               [ 8] 1463 	ld	(hl), b
      00063A F8 03            [12] 1464 	ldhl	sp,#3
      00063C 2A               [ 8] 1465 	ld	a, (hl+)
      00063D 5F               [ 4] 1466 	ld	e, a
      00063E 56               [ 8] 1467 	ld	d, (hl)
      00063F 21 0D 00         [12] 1468 	ld	hl, #0x000d
      000642 19               [ 8] 1469 	add	hl, de
      000643 2A               [ 8] 1470 	ld	a, (hl+)
      000644 4F               [ 4] 1471 	ld	c, a
      000645 46               [ 8] 1472 	ld	b, (hl)
      000646 F8 05            [12] 1473 	ldhl	sp,	#5
      000648 2A               [ 8] 1474 	ld	a, (hl+)
      000649 5F               [ 4] 1475 	ld	e, a
      00064A 56               [ 8] 1476 	ld	d, (hl)
                                   1477 ;..\sprite.c:120: for(int i = this->spriteIndex; i < this->spriteIndex + totalTiles; i++)
      00064B CDr00r00         [24] 1478 	call	__mulint
      00064E E1               [12] 1479 	pop	hl
      00064F C5               [16] 1480 	push	bc
      000650 F8 03            [12] 1481 	ldhl	sp,#3
      000652 2A               [ 8] 1482 	ld	a, (hl+)
      000653 5F               [ 4] 1483 	ld	e, a
      000654 2A               [ 8] 1484 	ld	a, (hl+)
      000655 57               [ 4] 1485 	ld	d, a
      000656 1A               [ 8] 1486 	ld	a, (de)
      000657 22               [ 8] 1487 	ld	(hl+), a
      000658 13               [ 8] 1488 	inc	de
      000659 1A               [ 8] 1489 	ld	a, (de)
      00065A 77               [ 8] 1490 	ld	(hl), a
      00065B                       1491 00104$:
      00065B F8 03            [12] 1492 	ldhl	sp,#3
      00065D 2A               [ 8] 1493 	ld	a, (hl+)
      00065E 5F               [ 4] 1494 	ld	e, a
      00065F 56               [ 8] 1495 	ld	d, (hl)
      000660 1A               [ 8] 1496 	ld	a, (de)
      000661 4F               [ 4] 1497 	ld	c, a
      000662 13               [ 8] 1498 	inc	de
      000663 1A               [ 8] 1499 	ld	a, (de)
      000664 47               [ 4] 1500 	ld	b, a
      000665 E1               [12] 1501 	pop	hl
      000666 E5               [16] 1502 	push	hl
      000667 09               [ 8] 1503 	add	hl, bc
      000668 4D               [ 4] 1504 	ld	c, l
      000669 44               [ 4] 1505 	ld	b, h
      00066A F8 05            [12] 1506 	ldhl	sp,	#5
      00066C 2A               [ 8] 1507 	ld	a, (hl+)
      00066D 91               [ 4] 1508 	sub	a, c
      00066E 7E               [ 8] 1509 	ld	a, (hl)
      00066F 98               [ 4] 1510 	sbc	a, b
      000670 56               [ 8] 1511 	ld	d, (hl)
      000671 78               [ 4] 1512 	ld	a, b
      000672 5F               [ 4] 1513 	ld	e, a
      000673 CB 7B            [ 8] 1514 	bit	7, e
      000675 28 07            [12] 1515 	jr	Z, 00123$
      000677 CB 7A            [ 8] 1516 	bit	7, d
      000679 20 08            [12] 1517 	jr	NZ, 00124$
      00067B BF               [ 4] 1518 	cp	a, a
      00067C 18 05            [12] 1519 	jr	00124$
      00067E                       1520 00123$:
      00067E CB 7A            [ 8] 1521 	bit	7, d
      000680 28 01            [12] 1522 	jr	Z, 00124$
      000682 37               [ 4] 1523 	scf
      000683                       1524 00124$:
      000683 30 1E            [12] 1525 	jr	NC, 00106$
                                   1526 ;..\sprite.c:121: set_sprite_prop(i, paletteIndex);
      000685 F8 05            [12] 1527 	ldhl	sp,	#5
      000687 4E               [ 8] 1528 	ld	c, (hl)
                                   1529 ;c:\source\gameboy\gbdk-win64\gbdk\include\gb\gb.h:1850: shadow_OAM[nb].prop=prop;
      000688 26 00            [ 8] 1530 	ld	h, #0x00
                                   1531 ;	spillPairReg hl
                                   1532 ;	spillPairReg hl
      00068A 69               [ 4] 1533 	ld	l, c
      00068B 29               [ 8] 1534 	add	hl, hl
      00068C 29               [ 8] 1535 	add	hl, hl
      00068D 11r00r00         [12] 1536 	ld	de, #_shadow_OAM
      000690 19               [ 8] 1537 	add	hl, de
      000691 23               [ 8] 1538 	inc	hl
      000692 23               [ 8] 1539 	inc	hl
      000693 23               [ 8] 1540 	inc	hl
      000694 4D               [ 4] 1541 	ld	c, l
      000695 44               [ 4] 1542 	ld	b, h
      000696 F8 02            [12] 1543 	ldhl	sp,	#2
      000698 7E               [ 8] 1544 	ld	a, (hl)
      000699 02               [ 8] 1545 	ld	(bc), a
                                   1546 ;..\sprite.c:120: for(int i = this->spriteIndex; i < this->spriteIndex + totalTiles; i++)
      00069A F8 05            [12] 1547 	ldhl	sp,	#5
      00069C 34               [12] 1548 	inc	(hl)
      00069D 20 BC            [12] 1549 	jr	NZ, 00104$
      00069F 23               [ 8] 1550 	inc	hl
      0006A0 34               [12] 1551 	inc	(hl)
      0006A1 18 B8            [12] 1552 	jr	00104$
      0006A3                       1553 00106$:
                                   1554 ;..\sprite.c:122: }
      0006A3 E8 07            [16] 1555 	add	sp, #7
      0006A5 C9               [16] 1556 	ret
                                   1557 ;..\sprite.c:126: void show(struct Sprite* this) {
                                   1558 ;	---------------------------------
                                   1559 ; Function show
                                   1560 ; ---------------------------------
      0006A6                       1561 _show::
                                   1562 ;..\sprite.c:127: this->hidden = false;
      0006A6 21 12 00         [12] 1563 	ld	hl, #0x0012
      0006A9 19               [ 8] 1564 	add	hl, de
      0006AA 36 00            [12] 1565 	ld	(hl), #0x00
                                   1566 ;..\sprite.c:128: setVisible(this, true);
      0006AC 3E 01            [ 8] 1567 	ld	a, #0x01
                                   1568 ;..\sprite.c:129: }
      0006AE C3rC3r02         [16] 1569 	jp	_setVisible
                                   1570 ;..\sprite.c:131: void hide(struct Sprite* this){
                                   1571 ;	---------------------------------
                                   1572 ; Function hide
                                   1573 ; ---------------------------------
      0006B1                       1574 _hide::
                                   1575 ;..\sprite.c:132: this->hidden = true;
      0006B1 21 12 00         [12] 1576 	ld	hl, #0x0012
      0006B4 19               [ 8] 1577 	add	hl, de
      0006B5 36 01            [12] 1578 	ld	(hl), #0x01
                                   1579 ;..\sprite.c:133: setVisible(this, false);
      0006B7 AF               [ 4] 1580 	xor	a, a
                                   1581 ;..\sprite.c:134: }
      0006B8 C3rC3r02         [16] 1582 	jp	_setVisible
                                   1583 	.area _CODE
                                   1584 	.area _INITIALIZER
      000000                       1585 __xinit__spriteIndex:
      000000 00 00                 1586 	.dw #0x0000
      000002                       1587 __xinit__tileIndex:
      000002 01 00                 1588 	.dw #0x0001
      000004                       1589 __xinit__palette_index:
      000004 00                    1590 	.db #0x00	; 0
                                   1591 	.area _CABS (ABS)
